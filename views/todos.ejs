<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Tasks</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ropa+Sans&display=swap" rel="stylesheet">

  <!-- fontawesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/ca322a7481.js" crossorigin="anonymous"></script>

  <!-- css -->
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>

  <header>
    <!-- navbar -->
    <nav>
      <div class="navbar">
        <div class="container nav-container">
          <input class="checkbox" type="checkbox" />
          <div class="hamburger-lines">
            <span class="line line1"></span>
            <span class="line line2"></span>
            <span class="line line3"></span>
          </div>
          <div class="logo">
            <h1>Daily Tasks</h1>
          </div>
          <div class="menu-items">
            <!-- <li><a href="/contact">Contact</a></li> -->
            <li><a href="/logout">Log Out</a></li>
            <li><a href="/about">About</a></li>
            <!-- <li><a href="#">About</a></li>
            <li><a href="#">100Devs</a></li> -->

          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- <div class="newTaskItem"> -->
  <!-- new todo -->
  <!-- <div class="outer-container addContainer"> -->
  <!-- check -->
  <!-- <div class="newTask"> -->
  <!-- new todo input -->
  <form action="/todos/createTodo" method='POST'>
    <input class="form-item" type="text" placeholder="New Task" name='todoItem' />

    <div class="dropdown-group form-item">
      <label class="form-item form-label" for="inputGroupSelect01">Priority</label>
      <select name="priority" class="form-item form-select" id="inputGroupSelect01">
        <option selected value="0">Choose...</option>
        <option value="1">Low</option>
        <option value="2">Normal</option>
        <option value="3">Important</option>
        <option value="4">Critical</option>
      </select>
      <button class="btn add-btn form-item" type="submit">+ Add Task</button>
    </div>

    <!-- <button class="addBtn form-item" type="submit">+ Add Task</button> -->
  </form>
  <!-- </div> -->
  <!-- </div> -->
  <!-- </div> -->

  <% if (left <=1 ) { %>
    <h2>
      <%= user.userName %> has <%= left %> task left to do.
    </h2>
  <% } else { %>
    <h2>
      <%= user.userName %> has <%= left %> tasks left to do.
    </h2>
  <% } %>
  

  <ul>
    <% todos.forEach( el=> { %>
      <div class="todoItemWrap">
        <div class="todoItem"  data-id='<%= el._id %>'>
          <div class="check <%= el.completed === true ? ' completed' : 'not' %>">
            <div class="checkMark">
              <% if (el.completed === true) { %>
                <i class="fa-regular fa-circle-check fa-2x"></i>
              <% } else { %>
                <i class="fa-regular fa-circle fa-2x"></i>
              <% } %>
            </div>
          </div>
          <div class="todoText <%= el.completed === true ? ' completed' : 'not' %>">
            <%= el.todo %>
          </div>

          <!-- add stars for priority -->
          <div class="stars">
            <% for (let i=0; i < Number(el.priority); i++) { %>
              <i class="fas fa-star fa-2x"></i>
              <% } %>
          </div>


          <!-- client side js event listener -->
          <a href='/todos/edit/<%= el._id %>' class="edit">
            <span class="fas fa-edit fa-2x"></span>
          </a>

          <!-- Changed <span class='del'> Delete </span> to an icon: -->
          <span class="del"><i class="fas fa-trash fa-2x"></i></span>
        </div>
      </div>
      <% }) %>
  </ul>



  <!-- <form action="/todos/createTodo" method='POST'>
        <input type="text" placeholder="Enter Todo Item" name='todoItem'>

        <label class="" for="inputGroupSelect01">Priority</label>
        <select name="priority" class="form-select" id="inputGroupSelect01">
            <option selected value="0">Choose...</option>
            <option value="1">Low</option>
            <option value="2">Normal</option>
            <option value="3">Important</option>
            <option value="4">Critical</option>
        </select>
        <input type="submit">
    </form> -->


  <!-- <a href="/logout">Logout</a> -->




  <script src="js/main.js"></script>
</body>

</html>